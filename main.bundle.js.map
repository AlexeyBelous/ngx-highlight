{"version":3,"sources":["webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/highlight/highlight.directive.ts","webpack:///./src/app/highlight/highlight.module.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"div{\\r\\n    background-color: #ffcc34;}\\r\\n\\r\\ndiv>div{\\r\\n    background-color: #ff22ff;\\r\\n    padding-left: 10px;\\r\\n}\\r\\ndiv>div>div{\\r\\n    background-color: #22ccaa;\\r\\n    padding-left: 20px;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.css\n// module id = 135\n// module chunks = 1","module.exports = \"<h1>\\n  {{title}}\\n</h1>\\n<input type=\\\"text\\\" [(ngModel)]=\\\"searchTerm\\\" />\\n<div [highlight]=\\\"searchTerm\\\">\\n  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Etiam convallis, odio nec dictum facilisis, enim nunc scelerisque\\n  nisi, maximus semper felis dui eget neque. Phasellus ante felis, maximus sed justo mattis, semper pharetra neque. Pellentesque\\n  ante massa, pulvinar ac massa sit amet, malesuada fringilla dui. Mauris sollicitudin sollicitudin justo vel elementum.\\n  Fusce et mattis magna, a dictum augue. Pellentesque rhoncus lacus molestie augue consectetur, ut hendrerit mi maximus.\\n  Quisque cursus est sit amet molestie rutrum. Morbi faucibus sodales lacus et lacinia. Pellentesque id elit condimentum,\\n  lacinia tellus vitae, ornare lectus. Cras nisi massa, maximus viverra vestibulum ac, sollicitudin id arcu. Nam a commodo\\n  massa.\\n  <div>\\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ut, suscipit atque excepturi rem culpa, aperiam et. Quae tempora\\n    qui molestias distinctio beatae suscipit doloremque reiciendis, quisquam vel, recusandae, obcaecati dolor.\\n    <div>\\n      Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ut, suscipit atque excepturi rem culpa, aperiam et. Quae tempora\\n      qui molestias distinctio beatae suscipit doloremque reiciendis, quisquam vel, recusandae, obcaecati dolor.\\n    </div>\\n  </div>\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 137\n// module chunks = 1","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 69;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 69\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app works!';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { HighlightModule } from 'app/highlight/highlight.module';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    HighlightModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Directive, ElementRef, Input, OnChanges, SimpleChanges, AfterViewInit } from '@angular/core';\n\n@Directive({\n  selector: '[highlight]'\n})\nexport class HighlightDirective implements OnChanges, AfterViewInit {\n  @Input('highlight') searchTerm = '';\n  @Input() caseSensitive = true;\n\n  private get caseSensitivity(): string { return this.caseSensitive ? '' : 'i'; }\n\n\n  constructor(private el: ElementRef) { }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.highlightSearchTerm();\n  }\n\n  ngAfterViewInit(): void {\n    this.highlightSearchTerm();\n  }\n\n\n  highlightSearchTerm() {\n    if (!this.searchTerm) {\n      this.removePreviouslyMarkedTextInNode();\n      return;\n    };\n\n    if (this.el.nativeElement) {\n      this.removePreviouslyMarkedTextInNode();\n      this.highlightedNewTextInNode();\n    }\n  }\n\n  private removePreviouslyMarkedTextInNode() {\n    const node = this.el.nativeElement;\n    const markingPattern = new RegExp('<mark>|<\\/mark>', 'g');\n    const cleanText = node.innerHTML.replace(markingPattern, '');\n    node.innerHTML = cleanText;\n  }\n\n  private highlightedNewTextInNode() {\n    const node = this.el.nativeElement;\n    const htmlNegativeLookaheadPattern = '(?![^<>]*>)';\n    const searchTermPattern = this.getSearchTerm();\n    const searchRegex = new RegExp(searchTermPattern + htmlNegativeLookaheadPattern, 'gmi');\n    console.log(\"using regex:\", searchRegex);\n    const markedText = node.innerHTML.replace(searchRegex, '<mark>$&</mark>');\n    node.innerHTML = markedText;\n  }\n\n  private getSearchTerm(){\n    let escapedSearchTerm =  `(${this.escapeRegExp(this.searchTerm)})`;\n    const spaceToMultiMatchRegex = new RegExp(' ', 'gm');\n    escapedSearchTerm = escapedSearchTerm.replace(spaceToMultiMatchRegex, '|');\n    return escapedSearchTerm;\n  }\n\n  private escapeRegExp(str) {\n    return str.replace('/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g', '\\\\$&');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/highlight/highlight.directive.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HighlightDirective } from 'app/highlight/highlight.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [HighlightDirective],\n  exports: [HighlightDirective]\n\n})\nexport class HighlightModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/highlight/highlight.module.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}